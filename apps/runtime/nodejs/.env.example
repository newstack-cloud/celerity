# =============================================================================
# Celerity Node.js Runtime â€” Environment Variables
# =============================================================================

# --- Required ---

# Path to the blueprint YAML file defining API routes and handler metadata.
CELERITY_BLUEPRINT=./app/blueprint.yaml

# Runtime call mode. Must be "ffi" for Node.js runtime (NAPI bindings).
CELERITY_RUNTIME_CALL_MODE=ffi

# Service name used for logging and distributed tracing.
CELERITY_SERVICE_NAME=my-service

# HTTP server port.
CELERITY_SERVER_PORT=8080

# Deployment platform: aws, azure, gcp, local, or other.
CELERITY_RUNTIME_PLATFORM=local

# Path to the developer's root module file (ES module with @Module decorator).
# In dev mode, can point to .ts files if tsx is available.
CELERITY_MODULE_PATH=./app/src/app.module.ts

# --- Optional ---

# App directory (used for file watching in dev mode and version checks).
# Defaults to ./app
# CELERITY_APP_DIR=./app

# Node environment. Set to "production" in deployed environments.
# NODE_ENV=development

# Bind to loopback (127.0.0.1) only. Set to false in Docker containers.
# Defaults to true for local dev, false in the Docker image.
# CELERITY_SERVER_LOOPBACK_ONLY=true

# --- Telemetry ---

# Enable OpenTelemetry tracing. Defaults to false.
# CELERITY_TELEMETRY_ENABLED=false

# OTLP collector endpoint for trace/log export.
# CELERITY_TRACE_OTLP_COLLECTOR_ENDPOINT=http://otelcollector:4317

# Log level: debug, info, warn, error. Defaults to info.
# CELERITY_LOG_LEVEL=info

# Rust runtime diagnostics level. Defaults to info.
# CELERITY_MAX_DIAGNOSTICS_LEVEL=info

# --- Advanced ---

# Disable the default /runtime/health/check endpoint.
# CELERITY_USE_CUSTOM_HEALTH_CHECK=true

# Client IP detection source. Default: ConnectInfo.
# Options: ConnectInfo, XForwardedFor, XRealIp, Forwarded, TrueClientIp, CFConnectingIp
# CELERITY_CLIENT_IP_SOURCE=ConnectInfo

# Enable test mode (disables certain production safety checks).
# CELERITY_TEST_MODE=false

# Cache TTL for runtime resource store (JWT keys, OIDC discovery docs).
# CELERITY_RESOURCE_STORE_CACHE_ENTRY_TTL=600

# TLS verification for resource store HTTP requests.
# CELERITY_RESOURCE_STORE_VERIFY_TLS=true
